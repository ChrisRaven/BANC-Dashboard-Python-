*content auto-generated by an AI*

# BANC-Dashboard


A modern, interactive Python dashboard for the analysis and curation of Brain and Nerve Cord (BANC) connectomics data.  
The dashboard provides a unified interface for annotation management, synaptic partner discovery, filtering, proofreading, connectivity analysis, and more.

---

## Features

### 1. **Find Annotated**
- **View all annotations** in the dataset.
- **Search for specific annotations** by tag, prefix, suffix, or substring.
- **User statistics:** See annotation counts per user.
- **Persistent search:** Remembers your last search entry.

### 2. **Get Synaptic Partners**
- **Find upstream, downstream, or both types of synaptic partners** for a list of neuron IDs.
- **Get most common partners** and display results in a user-friendly format.

### 3. **Filters**
- **Filter by planes:** Categorize neuron segments by the number of leaves and their spatial relationship to user-defined planes.
- **Histogram visualization:** Interactive, log-scaled histogram of leaf counts, with thresholds, mean, median, and stats box.
- **Threshold-based grouping:** Quickly see which segments are small, medium, or large by leaf count.

### 4. **Update Outdated**
- **Identify and update outdated annotations** or data entries.

### 5. **Find Proofread**
- **Check which segments have been proofread** and which have not, for a given list.

### 6. **Find Differences**
- **Compare two sets of neuron IDs** to find unique and shared elements.
- **Subtract large neurons** (from a reference list) if desired.

### 7. **Check Coords**
- **Validate neuron coordinates** for correctness.
- **Batch check** and see which IDs have valid or invalid coordinates.
- **Execute custom code** for advanced users.

### 8. **Connectivity**
- **Cluster neurons** based on connectivity or NBLAST similarity.
- **Visualize clusters** and adjust clustering parameters interactively.

---

## User Interface

- **Tabbed layout:** Each feature is accessible via its own tab.
- **Modern look:** Uses [CustomTkinter](https://github.com/TomSchimansky/CustomTkinter) for a dark, clean, and responsive UI.
- **Scrollable content:** All tabs support vertical scrolling for large results or visualizations.
- **Copy/paste friendly:** All result boxes support easy copying.

---

## Installation

1. **Clone the repository:**
   ```bash
   git clone <repo-url>
   cd BANC-Dashboard-Python
   ```

2. **Install dependencies:**
   ```bash
   pip install customtkinter matplotlib numpy pandas caveclient requests
   ```

3. **Set up your API token:**
   - Create a file named `api_token.py` in the project root with the following content:
     ```python
     API_TOKEN = 'your_token_here'
     ```

---

## Usage

Run the dashboard with:
```bash
python dashboard.py
```

---

## Dependencies

- `customtkinter`
- `matplotlib`
- `numpy`
- `pandas`
- `caveclient`
- `requests`
- (optionally) `pyarrow` for some annotation features

---

## File Structure

```
dashboard.py                # Main entry point, launches the UI
constants.py                # UI and logic constants
api_token.py                # Your CAVE API token
filters/                    # Filtering and histogram logic
find_annotated/             # Annotation search and stats
get_synaptic_partners/      # Synaptic partner discovery
update_outdated/            # Outdated annotation management
find_proofread/             # Proofreading status
find_differences/           # Set comparison tools
check_coords/               # Coordinate validation
connectivity/               # Clustering and connectivity analysis
utils/                      # Shared UI and backend utilities
large_neurons.txt           # Reference list for large neurons
```

---

## Notes

- All data is processed locally; only annotation and connectivity queries use the CAVE API.
- The dashboard is designed for neuroscience researchers working with connectomics data, but can be adapted for other large-scale annotation/graph datasets.
- For best results, use with a modern Python 3.8+ environment.
